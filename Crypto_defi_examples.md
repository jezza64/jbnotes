# Crypto defi

## Defi principles

No trust necessary between counterparties  
Transparent  
easy to innovate

## Lending borrowing use cases

1. Get leverage
2. Tax: don't sell, just borrow with your asset as collateral.

### getting leverage

If you think ETH going up:

- deposit ETH with compound and take a loan in stable coin.
- Then buy more ETH.
- ETH goes up.
- Then you sell the ETH for the stable coin
- repay the loan and ge your ETH back.
- You have benefitted you have a leveraged position.

If you think ETH going down:

- deposit stable coin
- borrow ETH.
- Sell ETH.
- Buy it back lower
- redeem the loan to get your stable coins back.  

Potentially lower fees than margin trading.  


## Compound

Supply assets to a market  
Borrowers come and borrow from the market  
Interest rates determined algorithmically based on supply and demand, change every etherium block  
No predefined durations  
When you provide liquidity you get cTokens, can be traded.  
Borrowers have to deposit crypto as collateral  
Remove liquidity when you want  

Interest rates function of liquidity, change in real time.  
Higher rates incentivise more lending, and repayment of loans  
There is always excess liquidity (assets > borrowed), so its easy to withdraw liquidity and to take out a loan  
Interest paid by borrowers to suppliers, but more suppliers so less.  
Ratio of supply to demand is utilization rate  
Portion of interest payments is set aside as reserves, controlled by COMP holders, acts as insurance  
Each market has reserves and reserve factor (proportion of interest set aside)

Interest rates quoted as annual rates.  
People scanning contracts looking for undercollateralised loans, and they get a reward for liquidating you.  

cTokens: Each market has a cToken, e.g. cETH. THis is the mechanism to pay interest. The cETH exchange rate starts at 0.02, and increases as interest is paid. When you exchange back, you get more of the underpying as the interest payment, and this rate is reflected in the exchange rate. It always goes up.  

## AAVE

Uses algorithm to set interest rates  
Peer to smart contract lending.  
Deposit to one smart contract, borrow from another  
Get MATIC benefits for using AAVE currently.  





